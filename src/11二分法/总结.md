## 二分法 [题单](https://leetcode.cn/discuss/post/3579164/ti-dan-er-fen-suan-fa-er-fen-da-an-zui-x-3rqn/)
### 1>二分查找
使用场景<br/>
> 1.在有序数组中快速查找一个元素target的位置<br/>
> 2.在有序数组中，一个数出现的次数大于n/2,那么这个数就是众数 nums[n/2]一定是target，找出现次数就可以用二分查找第一个位置和最后一个位置
#### $$红蓝染色法~~ ~~循环不变量~~ ~~L-1始终是红色~~ ~~R+1始终是蓝色$$
>* 需要找元素的第一个位置 <x表示红色（不满足要求），>(=)x表示蓝色（满足要求）<br/> 
>* 转换=》 >x变为>=x+1  <x变为nums(>=x)-1  <=x变为nums(>=x+1)-1

>+ 左闭右闭[left,right] 初始化l=0,r=n-1 条件l<=r 循环l=mid+1,r=mid-1 结果left=right+1是第一个>(=)x的下标<br/>
>+ 左闭右开[left,right) 初始化l=0,r=n 条件l<r 循环l=mid+1,r=mid 结果left=right是第一个>(=)x的下标<br/>
>+ 左开右开(left,right) 初始化l=-1,r=n 条件l+1<r 循环l=mid,r=mid 结果right=left+1是第一个>(=)x的下标<br/>
#### 左闭右闭
    let left = 0,right = nums.length-1;
    while(left<=right)
    // mid即right+1一定指向蓝色(满足条件)即>=target
    mid >=target right = mid-1
    // mid即left-1一定指向红色(满足条件)即<target
    mid <target left = mid+1
    // 循环不变量，right+1=left指向第一个蓝色(>=target)的结果
    return left/right+1
#### 左闭右开
    let left = 0,right = nums.length;
    while(left<right)
    mid >=target right = mid
    mid <target left = mid+1
    return left/right
#### 左开右开
    let left = -1,right = nums.length;
    while(left+1<right)
    mid >=target right = mid
    mid <target left = mid
    return right/left+1

### 2>二分答案：求最小或最大值
例如：开区间
* 求最小：check(mid) == true 时更新 right = mid，反之更新 left = mid，最后返回 right。
* 求最大：check(mid) == true 时更新 left = mid，反之更新 right = mid，最后返回 left。
```
示例：左开右开
function check(target){
    let sum = 0;
    for(let v of nums){
        sum += Math.ceil(v/target);
    }
    return sum<=threshold;
}
let left = 0,right = Math.max(...nums);
while(left+1<right){
    let mid = Math.floor((left+right)/2);
    if(check(mid)){
        // 如果符合条件，再找更小的
        right = mid;
    }else{
        left = mid;
    }
}
return right;

```